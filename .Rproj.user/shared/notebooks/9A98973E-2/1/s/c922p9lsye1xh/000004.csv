"0","#devtools::install_github(""hrbrmstr/overpass"")
library(overpass)
"
"2","Data (c) OpenStreetMap contributors, ODbL 1.0. http://www.openstreetmap.org/copyright
"
"0","#devtools::install_github(""hrbrmstr/overpass"")"
"0","library(overpass)"
"0","library(osmdata)"
"2","Data (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright
"
"2","
Attaching package: ‘osmdata’

"
"2","The following objects are masked from ‘package:overpass’:

    available_features, available_tags, bbox_to_string, opq, overpass_status

"
"0","library(sp)"
"0","library(vroom)"
"0","session_geo <- vroom(""data/session_geo.csv"")"
"2","[1mRows:[22m 120,375
[1mColumns:[22m 3
[1mDelimiter:[22m "",""
[32mdbl[39m [3]: id_sesji, lon, lat

[90mUse `spec()` to retrieve the guessed column specification[39m
[90mPass a specification to the `col_types` argument to quiet this message[39m
"
"0","session_geo <- vroom(""data/session_geo.csv"")"
"2","[1mRows:[22m 120,375
[1mColumns:[22m 3
[1mDelimiter:[22m "",""
[32mdbl[39m [3]: id_sesji, lon, lat

[90mUse `spec()` to retrieve the guessed column specification[39m
[90mPass a specification to the `col_types` argument to quiet this message[39m
"
"0","check_oo <- function(lat, lon, meter) {"
"0","  lat1 <- as.numeric(lat - (180 / pi) * (meter / 6378137))"
"0","  lon1 <-"
"0","    as.numeric(lon - (180 / pi) * (meter / 6378137) / cos(lat1))"
"0","  lat2 <- as.numeric(lat + (180 / pi) * (meter / 6378137))"
"0","  lon2 <-"
"0","    as.numeric(lon + (180 / pi) * (meter / 6378137) / cos(lat2))"
"0","  bb <- c(lat1, lon1, lat2, lon2)"
"0","  "
"0","  bbstring <- paste(bb, collapse = "","")"
"0","  "
"0","  vv <- ""residential"""
"0","  q1 <-"
"0","    paste0('  way[""highway""=""', vv, '""](', bbstring, ');', collapse = '\n')"
"0","  qq <-"
"0","    paste0('[out:xml][timeout:25]; \n( \n',"
"0","           q1,"
"0","           '); \nout body; \n>; \nout skel qt;')"
"0","  "
"0","  Sys.sleep(20)"
"0","  oo <- overpass_query(qq)"
"0","  "
"0","  return(oo)"
"0","}"
